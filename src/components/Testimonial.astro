---
import { testimonials } from "../data/testimonials";

interface Testimonial {
  name: string;
  role: string;
  comment: string;
  linkedInUrl: string;
  iconBg: string;
}
---

<section class="py-16 bg-gray-900">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-4xl font-bold text-white mb-12 text-center">Testimonios</h2>
    <div
      class={`grid gap-6 ${
        testimonials.length === 1
          ? "grid-cols-1 max-w-xl mx-auto"
          : testimonials.length === 2
            ? "grid-cols-1 md:grid-cols-2 max-w-3xl mx-auto"
            : "grid-cols-1 md:grid-cols-2 lg:grid-cols-3"
      }`}
    >
      {
        testimonials.map((testimonial: Testimonial) => (
          <div class="card text-gray-300 h-[400px] hover:brightness-90 transition-all cursor-pointer group bg-gradient-to-tl from-gray-900 to-gray-950 hover:from-gray-800 hover:to-gray-950 border-r-2 border-t-2 border-gray-900 rounded-lg overflow-hidden relative">
            <div class="px-6 py-8 h-full flex flex-col">
              <div
                class="w-16 h-16 rounded-full rounded-tl-none mb-6 group-hover:-translate-y-1 group-hover:shadow-xl transition-all"
                style={`background-color: ${testimonial.iconBg};`}
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="40"
                  height="40"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="text-white m-3"
                >
                  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z" />
                  <rect x="2" y="9" width="4" height="12" />
                  <circle cx="4" cy="4" r="2" />
                </svg>
              </div>
              <div class="font-bold text-2xl mb-2">{testimonial.name}</div>
              <div class="text-gray-300 tracking-widest text-sm mb-4">
                {testimonial.role}
              </div>
              <div class="text-gray-400 flex-grow overflow-y-auto">
                <p class="text-base">{testimonial.comment}</p>
              </div>
            </div>

            <div class="h-2 w-full bg-gradient-to-l via-purple-500 group-hover:blur-xl blur-2xl m-auto rounded transition-all absolute bottom-0" />
            <div class="h-0.5 group-hover:w-full bg-gradient-to-l via-purple-950 group-hover:via-purple-500 w-[70%] m-auto rounded transition-all absolute bottom-0" />

            <a
              href={testimonial.linkedInUrl}
              target="_blank"
              rel="noopener noreferrer"
              class="absolute top-4 right-4 text-purple-400 hover:text-purple-300 text-sm"
            >
              <svg
                width="24"
                height="24"
                xmlns="http://www.w3.org/2000/svg"
                preserveAspectRatio="xMidYMid"
                viewBox="0 0 256 256"
                class="transition-all hover:scale-110"
              >
                <path
                  d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453"
                  fill="currentColor"
                />
              </svg>
            </a>
          </div>
        ))
      }
    </div>
  </div>
</section>

<style>
  .card {
    display: flex;
    flex-direction: column;
  }
</style>
