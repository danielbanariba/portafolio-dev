---
import { testimonials } from "../data/testimonials";

interface Testimonial {
  name: string;
  role: string;
  comment: string;
  linkedInUrl: string;
  iconBg: string;
}
---

//TODO Poner este fondo, me gusta mas, y es mas dianativo para los Testimonios
// https://ui.aceternity.com/components/canvas-reveal-effect

<section class="py-20 bg-gradient-to-b">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-4xl font-bold text-white mb-4 tracking-tight">
        Testimonios
      </h2>
      <div class="h-1 w-24 bg-purple-500 mx-auto rounded-full"></div>
    </div>

    <div
      class={`grid gap-8 ${
        testimonials.length === 1
          ? "grid-cols-1 max-w-xl mx-auto"
          : testimonials.length === 2
            ? "grid-cols-1 md:grid-cols-2 max-w-3xl mx-auto"
            : "grid-cols-1 md:grid-cols-2 lg:grid-cols-3"
      }`}
    >
      {
        testimonials.map((testimonial: Testimonial) => (
          <div class="group relative rounded-xl overflow-hidden backdrop-blur-sm">
            {/* Efectos de fondo */}
            <div class="absolute inset-0 bg-gradient-to-br from-gray-800/70 to-gray-950/90 z-0" />
            <div class="absolute -inset-0.5 bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-xl blur opacity-50 group-hover:opacity-100 transition duration-300" />
            <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-purple-500 to-transparent transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500" />

            {/* Contenido */}
            <div class="relative p-8 h-[400px] flex flex-col z-10 border border-gray-800/50 rounded-xl backdrop-blur-md">
              {/* Header */}
              <div class="flex items-start mb-6">
                <div
                  class="w-14 h-14 rounded-lg flex items-center justify-center group-hover:scale-110 transition-all duration-300"
                  style={`background-color: ${testimonial.iconBg};`}
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="30"
                    height="30"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="text-white"
                  >
                    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z" />
                    <rect x="2" y="9" width="4" height="12" />
                    <circle cx="4" cy="4" r="2" />
                  </svg>
                </div>

                <div class="ml-4 flex-grow">
                  <div class="font-bold text-xl text-white mb-1 group-hover:text-purple-300 transition-colors">
                    {testimonial.name}
                  </div>
                  <div class="text-gray-400 text-sm tracking-wide">
                    {testimonial.role}
                  </div>
                </div>

                <a
                  href={testimonial.linkedInUrl}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="text-purple-400 hover:text-purple-300 transition-colors"
                  aria-label="Perfil de LinkedIn"
                >
                  <svg
                    width="22"
                    height="22"
                    xmlns="http://www.w3.org/2000/svg"
                    preserveAspectRatio="xMidYMid"
                    viewBox="0 0 256 256"
                    class="transition-all hover:scale-110"
                  >
                    <path
                      d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453"
                      fill="currentColor"
                    />
                  </svg>
                </a>
              </div>

              {/* Comilla decorativa */}
              <div class="absolute top-6 right-8 opacity-10 text-6xl text-purple-300 font-serif">
                "
              </div>

              {/* Contenido del testimonio */}
              <div class="text-gray-300 flex-grow overflow-y-auto pr-2">
                <p class="text-base leading-relaxed relative">
                  {testimonial.comment}
                </p>
              </div>

              {/* Efectos de borde */}
              <div class="absolute bottom-0 left-0 right-0 h-1.5 bg-gradient-to-r from-purple-600/40 via-purple-500/80 to-blue-500/40 opacity-70 group-hover:opacity-100 transition-opacity" />
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>

<style>
  /* Estilos para la barra de desplazamiento del texto */
  div::-webkit-scrollbar {
    width: 3px;
  }

  div::-webkit-scrollbar-track {
    background: rgba(75, 85, 99, 0.1);
    border-radius: 10px;
  }

  div::-webkit-scrollbar-thumb {
    background: rgba(139, 92, 246, 0.5);
    border-radius: 10px;
  }

  div::-webkit-scrollbar-thumb:hover {
    background: rgba(139, 92, 246, 0.8);
  }
</style>
